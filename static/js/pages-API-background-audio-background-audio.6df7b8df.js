(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-API-background-audio-background-audio"],{3639:function(t,e,n){n("bf0f"),n("18f7"),n("d0af"),n("de6c"),n("6a54"),n("9a2c");var a=n("bdbb")["default"];function i(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}t.exports=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!==typeof t)return{default:t};var n=i(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=t[u]}return r["default"]=t,n&&n.set(t,r),r},t.exports.__esModule=!0,t.exports["default"]=t.exports},"4def":function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,"uni-image[data-v-23ec4e6a]{width:%?150?%;height:%?150?%}.page-body-text[data-v-23ec4e6a]{padding:0 %?30?%}.page-body-wrapper[data-v-23ec4e6a]{margin-top:0}.page-body-info[data-v-23ec4e6a]{padding-bottom:%?50?%}.time-big[data-v-23ec4e6a]{font-size:%?60?%;margin:%?20?%}.slider[data-v-23ec4e6a]{width:%?630?%}.play-time[data-v-23ec4e6a]{font-size:%?28?%;width:100%;padding:%?20?% 0;display:flex;justify-content:space-between;box-sizing:border-box}.page-body-buttons[data-v-23ec4e6a]{display:flex;justify-content:space-around;margin-top:%?100?%}.page-body-button[data-v-23ec4e6a]{width:%?250?%;text-align:center}",""]),t.exports=e},"6e07":function(t,e,n){"use strict";n.r(e);var a=n("a2ff"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"934f":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.dateUtils=void 0,e.formatLocation=function(t,e){"string"===typeof t&&"string"===typeof e&&(t=parseFloat(t),e=parseFloat(e));return t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}},e.formatTime=function(t){if("number"!==typeof t||t<0)return t;var e=parseInt(t/3600);t%=3600;var n=parseInt(t/60);t%=60;var a=t;return[e,n,a].map((function(t){return t=t.toString(),t[1]?t:"0"+t})).join(":")},n("e966"),n("fd3c"),n("c9b5"),n("bf0f"),n("ab80"),n("e838"),n("5c47"),n("dfcf");var a={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var e="";for(var n in this.UNITS)if(t>=this.UNITS[n]){e=Math.floor(t/this.UNITS[n])+n+"前";break}return e||"刚刚"},format:function(t){var e=this.parse(t),n=Date.now()-e.getTime();if(n<this.UNITS["天"])return this.humanize(n);var a=function(t){return t<10?"0"+t:t};return e.getFullYear()+"/"+a(e.getMonth()+1)+"/"+a(e.getDate())+"-"+a(e.getHours())+":"+a(e.getMinutes())},parse:function(t){var e=t.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}};e.dateUtils=a},a2ff:function(t,e,n){"use strict";n("6a54");var a=n("3639").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("934f")),r={data:function(){return{title:"backgroundAudio",bgAudioMannager:null,dataUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3",playing:!1,playTime:0,formatedPlayTime:"00:00:00"}},onLoad:function(){var t=this;this.playing=this.$backgroundAudioData.playing,this.playTime=this.$backgroundAudioData.playTime,this.formatedPlayTime=this.$backgroundAudioData.formatedPlayTime;var e=uni.getBackgroundAudioManager();e.title||(e.title="致爱丽丝"),e.singer||(e.singer="暂无"),e.coverImgUrl||(e.coverImgUrl="https://web-assets.dcloud.net.cn/unidoc/zh/Alice.jpeg"),e.onPlay((function(){console.log("开始播放"),t.$backgroundAudioData.playing=t.playing=!0})),e.onPause((function(){console.log("暂停播放"),t.$backgroundAudioData.playing=t.playing=!1})),e.onEnded((function(){t.playing=!1,t.$backgroundAudioData.playing=!1,t.$backgroundAudioData.playTime=t.playTime=0,t.$backgroundAudioData.formatedPlayTime=t.formatedPlayTime=i.formatTime(0)})),e.onTimeUpdate((function(n){Math.floor(e.currentTime)>Math.floor(t.playTime)&&(t.$backgroundAudioData.formatedPlayTime=t.formatedPlayTime=i.formatTime(Math.floor(e.currentTime))),t.$backgroundAudioData.playTime=t.playTime=e.currentTime})),this.bgAudioMannager=e},methods:{play:function(t){this.bgAudioMannager.src?(this.bgAudioMannager.seek(this.playTime),this.bgAudioMannager.play()):(this.bgAudioMannager.startTime=this.playTime,this.bgAudioMannager.src=this.dataUrl)},seek:function(t){this.bgAudioMannager.seek(t.detail.value)},pause:function(){this.bgAudioMannager.pause()},stop:function(){this.bgAudioMannager.stop(),this.$backgroundAudioData.playing=this.playing=!1,this.$backgroundAudioData.playTime=this.playTime=0,this.$backgroundAudioData.formatedPlayTime=this.formatedPlayTime=i.formatTime(0)}}};e.default=r},a647:function(t,e,n){"use strict";n.r(e);var a=n("bf8f"),i=n("6e07");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("f495");var o=n("828b"),u=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"23ec4e6a",null,!1,a["a"],void 0);e["default"]=u.exports},b3e2:function(t,e,n){"use strict";var a,i=n("c238"),r=n("85c1"),o=n("bb80"),u=n("a74c"),s=n("d0b1"),c=n("7658"),d=n("d871c"),f=n("1c06"),l=n("235c").enforce,p=n("af9e"),g=n("a20b"),v=Object,h=Array.isArray,b=v.isExtensible,y=v.isFrozen,m=v.isSealed,w=v.freeze,T=v.seal,k=!r.ActiveXObject&&"ActiveXObject"in r,A=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},M=c("WeakMap",A,d),x=M.prototype,z=o(x.set);if(g)if(k){a=d.getConstructor(A,"WeakMap",!0),s.enable();var P=o(x["delete"]),_=o(x.has),D=o(x.get);u(x,{delete:function(t){if(f(t)&&!b(t)){var e=l(this);return e.frozen||(e.frozen=new a),P(this,t)||e.frozen["delete"](t)}return P(this,t)},has:function(t){if(f(t)&&!b(t)){var e=l(this);return e.frozen||(e.frozen=new a),_(this,t)||e.frozen.has(t)}return _(this,t)},get:function(t){if(f(t)&&!b(t)){var e=l(this);return e.frozen||(e.frozen=new a),_(this,t)?D(this,t):e.frozen.get(t)}return D(this,t)},set:function(t,e){if(f(t)&&!b(t)){var n=l(this);n.frozen||(n.frozen=new a),_(this,t)?z(this,t,e):n.frozen.set(t,e)}else z(this,t,e);return this}})}else(function(){return i&&p((function(){var t=w([]);return z(new M,t,1),!y(t)}))})()&&u(x,{set:function(t,e){var n;return h(t)&&(y(t)?n=w:m(t)&&(n=T)),z(this,t,e),n&&n(t),this}})},b6a7:function(t,e,n){var a=n("4def");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("96c6cd0e",a,!0,{sourceMap:!1,shadowMode:!1})},bf8f:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={pageHead:n("855f").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-head",{attrs:{title:t.title}}),n("v-uni-view",{staticClass:"uni-padding-wrap"},[n("v-uni-view",{staticClass:"uni-center"},[n("v-uni-text",{staticClass:"time-big"},[t._v(t._s(t.formatedPlayTime))])],1),n("v-uni-view",{staticClass:"uni-common-mt"},[n("v-uni-slider",{staticClass:"slider",attrs:{min:"0",max:"21",step:"1",value:t.playTime},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.seek.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"play-time"},[n("v-uni-text",[t._v("00:00")]),n("v-uni-text",[t._v("00:21")])],1),n("v-uni-view",{staticClass:"uni-hello-text"},[t._v("注意：离开当前页面后背景音乐将保持播放，但退出uni-app将停止")]),n("v-uni-view",{staticClass:"page-body-buttons"},[t.playing?[n("v-uni-view",{staticClass:"page-body-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"/static/stop.png"}})],1),n("v-uni-view",{staticClass:"page-body-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pause.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"/static/pause.png"}})],1)]:t._e(),t.playing?t._e():[n("v-uni-view",{staticClass:"page-body-button"}),n("v-uni-view",{staticClass:"page-body-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.play.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"/static/play.png"}})],1)],n("v-uni-view",{staticClass:"page-body-button"})],2)],1)],1)},r=[]},d0af:function(t,e,n){"use strict";n("b3e2")},d871c:function(t,e,n){"use strict";var a=n("bb80"),i=n("a74c"),r=n("d0b1").getWeakData,o=n("b720"),u=n("e7e3"),s=n("1eb8"),c=n("1c06"),d=n("5075"),f=n("4d16"),l=n("338c"),p=n("235c"),g=p.set,v=p.getterFor,h=f.find,b=f.findIndex,y=a([].splice),m=0,w=function(t){return t.frozen||(t.frozen=new T)},T=function(){this.entries=[]},k=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};T.prototype={get:function(t){var e=k(this,t);if(e)return e[1]},has:function(t){return!!k(this,t)},set:function(t,e){var n=k(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=b(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var f=t((function(t,i){o(t,p),g(t,{type:e,id:m++,frozen:void 0}),s(i)||d(i,t[a],{that:t,AS_ENTRIES:n})})),p=f.prototype,h=v(e),b=function(t,e,n){var a=h(t),i=r(u(e),!0);return!0===i?w(a).set(e,n):i[a.id]=n,t};return i(p,{delete:function(t){var e=h(this);if(!c(t))return!1;var n=r(t);return!0===n?w(e)["delete"](t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!c(t))return!1;var n=r(t);return!0===n?w(e).has(t):n&&l(n,e.id)}}),i(p,n?{get:function(t){var e=h(this);if(c(t)){var n=r(t);return!0===n?w(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return b(this,t,e)}}:{add:function(t){return b(this,t,!0)}}),f}}},f495:function(t,e,n){"use strict";var a=n("b6a7"),i=n.n(a);i.a}}]);